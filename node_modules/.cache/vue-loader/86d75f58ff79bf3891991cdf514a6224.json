{"remainingRequest":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/page/system/role/RoleDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/page/system/role/RoleDetail.vue","mtime":1568663656000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet treeDataSource = [];\nlet checkedKeys = [];\n\nexport default {\n    name: \"RoleDetail\",\n    props: {\n        value: {\n            type: Boolean,\n            default: false\n        },\n        role: {\n            type: Object,\n            default() {\n                return {}\n            }\n        }\n    },\n    data() {\n        return {\n            treeDataSource,\n            checkedKeys\n        }\n    },\n    methods: {\n        apiFetchMenu() {\n            return this.$request.get('/menu').then(res => {\n                if (res.data.code === 0) this.treeDataSource = res.data.data.rows.children;\n                return null;\n            })\n        },\n        apiFetchRoleMenus(id) {\n            return this.$request.get(`/roleMenu/${id}`).then(res => {\n                if (res.data.code === 0) this.checkedKeys = res.data.data;\n                return null;\n            })\n        },\n        fetchMenuList() {\n            return this.apiFetchMenu();\n        },\n        fetchRoleMenus() {\n            return this.apiFetchRoleMenus(this.role.roleId);\n        },\n        bindClickClose() {\n            this.$emit('input', false);\n        }\n    },\n    watch: {\n        value(value) {\n            if (!value) return;\n            this.fetchMenuList().then(() => this.fetchRoleMenus());\n        }\n    }\n}\n",{"version":3,"sources":["RoleDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RoleDetail.vue","sourceRoot":"src/views/page/system/role","sourcesContent":["<template>\n    <a-drawer title=\"角色详情\" :visible=\"value\" @close=\"bindClickClose\" width=\"400\">\n        <a-list :split=\"false\">\n            <a-list-item>\n                <a-list-item-meta description=\"角色名称\"/>\n                <span class=\"black\">{{role['roleName']}}</span>\n            </a-list-item>\n            <a-list-item>\n                <a-list-item-meta description=\"角色描述\"/>\n                <span class=\"black text-right\">{{role['roleDescription'] || '-'}}</span>\n            </a-list-item>\n            <a-list-item>\n                <a-list-item-meta description=\"创建时间\"/>\n                <span class=\"black\">{{role['roleCreateTime']}}</span>\n            </a-list-item>\n            <a-list-item>\n                <a-list-item-meta description=\"最近更新\"/>\n                <span class=\"black\">{{role['roleUpdateTime'] || '-'}}</span>\n            </a-list-item>\n            <a-list-item>\n                <a-list-item-meta description=\"角色状态\"/>\n                <a-badge :status=\"role['roleStatus'] ? 'processing' : 'error'\"\n                         :text=\"role['roleStatus'] ? '正常' : '禁用'\"/>\n            </a-list-item>\n            <a-tree checkable checkStrictly defaultExpandAll defaultExpandParent\n                    :checkedKeys=\"checkedKeys\" :treeData=\"treeDataSource\"/>\n        </a-list>\n    </a-drawer>\n</template>\n\n<script>\n    let treeDataSource = [];\n    let checkedKeys = [];\n\n    export default {\n        name: \"RoleDetail\",\n        props: {\n            value: {\n                type: Boolean,\n                default: false\n            },\n            role: {\n                type: Object,\n                default() {\n                    return {}\n                }\n            }\n        },\n        data() {\n            return {\n                treeDataSource,\n                checkedKeys\n            }\n        },\n        methods: {\n            apiFetchMenu() {\n                return this.$request.get('/menu').then(res => {\n                    if (res.data.code === 0) this.treeDataSource = res.data.data.rows.children;\n                    return null;\n                })\n            },\n            apiFetchRoleMenus(id) {\n                return this.$request.get(`/roleMenu/${id}`).then(res => {\n                    if (res.data.code === 0) this.checkedKeys = res.data.data;\n                    return null;\n                })\n            },\n            fetchMenuList() {\n                return this.apiFetchMenu();\n            },\n            fetchRoleMenus() {\n                return this.apiFetchRoleMenus(this.role.roleId);\n            },\n            bindClickClose() {\n                this.$emit('input', false);\n            }\n        },\n        watch: {\n            value(value) {\n                if (!value) return;\n                this.fetchMenuList().then(() => this.fetchRoleMenus());\n            }\n        }\n    }\n</script>\n"]}]}