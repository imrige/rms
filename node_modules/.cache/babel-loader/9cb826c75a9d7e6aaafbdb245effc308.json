{"remainingRequest":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--13-0!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/layout/sidebar/SidebarMenu.js","dependencies":[{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/layout/sidebar/SidebarMenu.js","mtime":1568663656000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport Menu from 'ant-design-vue/es/menu';\nimport Icon from 'ant-design-vue/es/icon';\nvar Item = Menu.Item,\n    SubMenu = Menu.SubMenu;\nexport default {\n  name: 'SidebarMenu',\n  props: {\n    dataSource: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    theme: {\n      type: String,\n      default: 'dark'\n    },\n    mode: {\n      type: String,\n      default: 'inline'\n    },\n    collapsed: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      openKeys: [],\n      selectedKeys: [],\n      cachedOpenKeys: []\n    };\n  },\n  computed: {\n    rootSubMenuKeys: function rootSubMenuKeys(vm) {\n      var keys = [];\n      vm.dataSource.forEach(function (item) {\n        keys.push(item.path);\n      });\n      return keys;\n    }\n  },\n  mounted: function mounted() {\n    this.updateMenu();\n  },\n  methods: {\n    renderMenu: function renderMenu(h, dataSource) {\n      var _this = this;\n\n      var menus = [];\n      dataSource.forEach(function (item, index) {\n        menus.push(_this.renderItem(h, item, '0', index));\n      });\n      return menus;\n    },\n    renderItem: function renderItem(h, item, pIndex, index) {\n      return item.children ? this.renderSubMenu(h, item, pIndex, index) : this.renderMenuItem(h, item, pIndex, index);\n    },\n    renderSubMenu: function renderSubMenu(h, item, pIndex, index) {\n      var _this2 = this;\n\n      var subMenuItem = [h('span', {\n        slot: 'title'\n      }, [this.renderIcon(h, item.icon), h('span', [item.name])])];\n      var itemArr = [];\n\n      var _pIndex = \"\".concat(pIndex, \"_\").concat(index);\n\n      item.children.forEach(function (child, _index) {\n        itemArr.push(_this2.renderItem(h, child, _pIndex, _index));\n      });\n      return h(SubMenu, {\n        key: item.path ? menu.path : \"submenu_\".concat(pIndex, \"_\").concat(index)\n      }, subMenuItem.concat(itemArr));\n    },\n    renderMenuItem: function renderMenuItem(h, item, pIndex, index) {\n      return h(Item, {\n        key: item.path ? item.path : \"item_\".concat(pIndex, \"_\").concat(index)\n      }, [h('index-link', {\n        attrs: {\n          to: \"\".concat(item.path)\n        }\n      }, [this.renderIcon(h, item.icon), h('span', [item.name])])]);\n    },\n    renderIcon: function renderIcon(h, icon) {\n      return !icon ? null : h(Icon, {\n        props: {\n          type: icon\n        }\n      });\n    },\n    bindOpenChange: function bindOpenChange(openKeys) {\n      var _this3 = this;\n\n      var latestOpenKey = openKeys.find(function (key) {\n        return _this3.openKeys.indexOf(key) === -1;\n      });\n      if (this.rootSubMenuKeys.indexOf(latestOpenKey) === -1) this.openKeys = openKeys;else this.openKeys = latestOpenKey ? [latestOpenKey] : [];\n    },\n    updateMenu: function updateMenu() {\n      var routes = this.$route.matched.concat();\n\n      if (routes.length >= 3 && this.$route.meta.hidden) {\n        routes.pop();\n        this.selectedKeys = [routes[routes.length - 1].path];\n      } else {\n        this.selectedKeys = [routes.pop().path];\n      }\n\n      var openKeys = [];\n      if (this.mode === 'inline') routes.forEach(function (item) {\n        return openKeys.push(item.path);\n      });\n      this.collapsed ? this.cachedOpenKeys = openKeys : this.openKeys = openKeys;\n    }\n  },\n  render: function render(h) {\n    var _this4 = this;\n\n    return h(Menu, {\n      props: {\n        theme: this.$props.theme,\n        mode: this.$props.mode,\n        openKeys: this.openKeys,\n        selectedKeys: this.selectedKeys\n      },\n      on: {\n        openChange: this.bindOpenChange,\n        select: function select(item) {\n          _this4.selectedKeys = item.selectedKeys;\n\n          _this4.$emit('select', item);\n        }\n      }\n    }, this.renderMenu(h, this.dataSource));\n  }\n};",{"version":3,"sources":["/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/layout/sidebar/SidebarMenu.js"],"names":["Menu","Icon","Item","SubMenu","name","props","dataSource","type","Array","default","theme","String","mode","collapsed","Boolean","data","openKeys","selectedKeys","cachedOpenKeys","computed","rootSubMenuKeys","vm","keys","forEach","item","push","path","mounted","updateMenu","methods","renderMenu","h","menus","index","renderItem","pIndex","children","renderSubMenu","renderMenuItem","subMenuItem","slot","renderIcon","icon","itemArr","_pIndex","child","_index","key","menu","concat","attrs","to","bindOpenChange","latestOpenKey","find","indexOf","routes","$route","matched","length","meta","hidden","pop","render","$props","on","openChange","select","$emit"],"mappings":"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","sourcesContent":["import Menu from 'ant-design-vue/es/menu';\nimport Icon from 'ant-design-vue/es/icon';\n\nconst {Item, SubMenu} = Menu;\n\nexport default {\n    name: 'SidebarMenu',\n    props: {\n        dataSource: {\n            type: Array,\n            default() {\n                return []\n            }\n        },\n        theme: {\n            type: String,\n            default: 'dark'\n        },\n        mode: {\n            type: String,\n            default: 'inline'\n        },\n        collapsed: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            openKeys: [],\n            selectedKeys: [],\n            cachedOpenKeys: []\n        }\n    },\n    computed: {\n        rootSubMenuKeys(vm) {\n            let keys = [];\n            vm.dataSource.forEach(item => {\n                keys.push(item.path);\n            });\n            return keys;\n        }\n    },\n    mounted() {\n        this.updateMenu();\n    },\n    methods: {\n        renderMenu(h, dataSource) {\n            let menus = [];\n            dataSource.forEach((item, index) => {\n                menus.push(this.renderItem(h, item, '0', index));\n            });\n            return menus;\n        },\n        renderItem(h, item, pIndex, index) {\n            return item.children ? this.renderSubMenu(h, item, pIndex, index) : this.renderMenuItem(h, item, pIndex, index);\n        },\n        renderSubMenu(h, item, pIndex, index) {\n            let subMenuItem = [\n                h('span', {slot: 'title'}, [this.renderIcon(h, item.icon), h('span', [item.name])])\n            ];\n\n            let itemArr = [];\n            let _pIndex = `${pIndex}_${index}`;\n            item.children.forEach((child, _index) => {\n                itemArr.push(this.renderItem(h, child, _pIndex, _index))\n            });\n            return h(SubMenu, {key: item.path ? menu.path : `submenu_${pIndex}_${index}`}, subMenuItem.concat(itemArr));\n        },\n        renderMenuItem(h, item, pIndex, index) {\n            return h(\n                Item, {\n                    key: item.path ? item.path : `item_${pIndex}_${index}`\n                },\n                [\n                    h(\n                        'index-link', {\n                            attrs: {\n                                to: `${item.path}`\n                            }\n                        },\n                        [\n                            this.renderIcon(h, item.icon),\n                            h('span', [item.name])\n                        ]\n                    )\n                ]\n            )\n        },\n        renderIcon(h, icon) {\n            return !icon ? null : h(\n                Icon, {\n                    props: {\n                        type: icon\n                    }\n                }\n            )\n        },\n        bindOpenChange(openKeys) {\n            const latestOpenKey = openKeys.find(key => this.openKeys.indexOf(key) === -1);\n            if (this.rootSubMenuKeys.indexOf(latestOpenKey) === -1) this.openKeys = openKeys;\n            else this.openKeys = latestOpenKey ? [latestOpenKey] : [];\n        },\n        updateMenu() {\n            let routes = this.$route.matched.concat();\n            if (routes.length >= 3 && this.$route.meta.hidden) {\n                routes.pop();\n                this.selectedKeys = [routes[routes.length - 1].path];\n            } else {\n                this.selectedKeys = [routes.pop().path];\n            }\n\n            let openKeys = [];\n            if (this.mode === 'inline') routes.forEach(item => openKeys.push(item.path));\n\n            this.collapsed ? (this.cachedOpenKeys = openKeys) : (this.openKeys = openKeys);\n        }\n    },\n    render(h) {\n        return h(\n            Menu, {\n                props: {\n                    theme: this.$props.theme,\n                    mode: this.$props.mode,\n                    openKeys: this.openKeys,\n                    selectedKeys: this.selectedKeys\n                },\n                on: {\n                    openChange: this.bindOpenChange,\n                    select: item => {\n                        this.selectedKeys = item.selectedKeys;\n                        this.$emit('select', item);\n                    }\n                }\n            }, this.renderMenu(h, this.dataSource)\n        )\n    }\n}\n"]}]}