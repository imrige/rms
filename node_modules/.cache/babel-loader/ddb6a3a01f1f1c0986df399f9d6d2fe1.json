{"remainingRequest":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--13-0!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/router/index.js","dependencies":[{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/router/index.js","mtime":1571800966310},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport Config from '@/config';\nimport iLoadingBar from \"@/components/iLoadingBar\";\nimport storage from \"@/utils/storage\";\nVue.use(Router);\nvar loginPath = '/login',\n    originalPush = Router.prototype.push,\n    baseRoutes = [{\n  path: '/',\n  name: '扶뒬못',\n  redirect: '/dashboard',\n  meta: {\n    keepalive: false\n  },\n  component: function component() {\n    return import('@/App.vue');\n  },\n  children: Config.routes\n}, {\n  path: '/login',\n  component: function component() {\n    return import('@/views/login/Login.vue');\n  }\n}],\n    router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  dynamic: false,\n  routes: []\n});\n\nRouter.prototype.push = function push(location) {\n  return originalPush.call(this, location).catch(function (err) {\n    return err;\n  });\n};\n\nrouter.beforeEach(function (to, from, next) {\n  iLoadingBar.start();\n  if (router.options.initialized) next();else {\n    router.addRoutes(baseRoutes);\n    router.options.initialized = true;\n    next(to);\n  }\n\n  if (to.path === loginPath) {\n    next();\n  } else {\n    if (storage.get('user')) next();else next(loginPath);\n  }\n});\nrouter.afterEach(function () {\n  iLoadingBar.finish();\n});\nexport default router;",{"version":3,"sources":["/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/router/index.js"],"names":["Vue","Router","Config","iLoadingBar","storage","use","loginPath","originalPush","prototype","push","baseRoutes","path","name","redirect","meta","keepalive","component","children","routes","router","mode","base","process","env","BASE_URL","dynamic","location","call","catch","err","beforeEach","to","from","next","start","options","initialized","addRoutes","get","afterEach","finish"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,MAAR;AAEA,IAAIK,SAAS,GAAG,QAAhB;AAAA,IACIC,YAAY,GAAGN,MAAM,CAACO,SAAP,CAAiBC,IADpC;AAAA,IAEIC,UAAU,GAAG,CACT;AACIC,EAAAA,IAAI,EAAE,GADV;AAEIC,EAAAA,IAAI,EAAE,IAFV;AAGIC,EAAAA,QAAQ,EAAE,YAHd;AAIIC,EAAAA,IAAI,EAAE;AACFC,IAAAA,SAAS,EAAE;AADT,GAJV;AAOIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,WAAP,CAAN;AAAA,GAPf;AAQIC,EAAAA,QAAQ,EAAEf,MAAM,CAACgB;AARrB,CADS,EAWT;AACIP,EAAAA,IAAI,EAAE,QADV;AAEIK,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,yBAAP,CAAN;AAAA;AAFf,CAXS,CAFjB;AAAA,IAkBIG,MAAM,GAAG,IAAIlB,MAAJ,CAAW;AAChBmB,EAAAA,IAAI,EAAE,SADU;AAEhBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFF;AAGhBC,EAAAA,OAAO,EAAE,KAHO;AAIhBP,EAAAA,MAAM,EAAE;AAJQ,CAAX,CAlBb;;AAyBAjB,MAAM,CAACO,SAAP,CAAiBC,IAAjB,GAAwB,SAASA,IAAT,CAAciB,QAAd,EAAwB;AAC5C,SAAOnB,YAAY,CAACoB,IAAb,CAAkB,IAAlB,EAAwBD,QAAxB,EAAkCE,KAAlC,CAAwC,UAAAC,GAAG;AAAA,WAAIA,GAAJ;AAAA,GAA3C,CAAP;AACH,CAFD;;AAIAV,MAAM,CAACW,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC9B,EAAAA,WAAW,CAAC+B,KAAZ;AAEA,MAAIf,MAAM,CAACgB,OAAP,CAAeC,WAAnB,EAAgCH,IAAI,GAApC,KACK;AACDd,IAAAA,MAAM,CAACkB,SAAP,CAAiB3B,UAAjB;AACAS,IAAAA,MAAM,CAACgB,OAAP,CAAeC,WAAf,GAA6B,IAA7B;AACAH,IAAAA,IAAI,CAACF,EAAD,CAAJ;AACH;;AAED,MAAIA,EAAE,CAACpB,IAAH,KAAYL,SAAhB,EAA2B;AACvB2B,IAAAA,IAAI;AACP,GAFD,MAEO;AACH,QAAI7B,OAAO,CAACkC,GAAR,CAAY,MAAZ,CAAJ,EAAyBL,IAAI,GAA7B,KACKA,IAAI,CAAC3B,SAAD,CAAJ;AACR;AACJ,CAhBD;AAkBAa,MAAM,CAACoB,SAAP,CAAiB,YAAM;AACnBpC,EAAAA,WAAW,CAACqC,MAAZ;AACH,CAFD;AAIA,eAAerB,MAAf","sourcesContent":["import Vue from 'vue';\nimport Router from 'vue-router';\n\nimport Config from '@/config';\nimport iLoadingBar from \"@/components/iLoadingBar\";\nimport storage from \"@/utils/storage\";\n\nVue.use(Router);\n\nlet loginPath = '/login',\n    originalPush = Router.prototype.push,\n    baseRoutes = [\n        {\n            path: '/',\n            name: '扶뒬못',\n            redirect: '/dashboard',\n            meta: {\n                keepalive: false,\n            },\n            component: () => import('@/App.vue'),\n            children: Config.routes\n        },\n        {\n            path: '/login',\n            component: () => import('@/views/login/Login.vue')\n        }\n    ],\n    router = new Router({\n        mode: 'history',\n        base: process.env.BASE_URL,\n        dynamic: false,\n        routes: []\n    });\n\nRouter.prototype.push = function push(location) {\n    return originalPush.call(this, location).catch(err => err)\n};\n\nrouter.beforeEach((to, from, next) => {\n    iLoadingBar.start();\n\n    if (router.options.initialized) next();\n    else {\n        router.addRoutes(baseRoutes);\n        router.options.initialized = true;\n        next(to);\n    }\n\n    if (to.path === loginPath) {\n        next();\n    } else {\n        if (storage.get('user')) next();\n        else next(loginPath)\n    }\n});\n\nrouter.afterEach(() => {\n    iLoadingBar.finish();\n});\n\nexport default router;\n"]}]}