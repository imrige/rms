{"remainingRequest":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--13-0!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/api/modules/Login.js","dependencies":[{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/api/modules/Login.js","mtime":1571215782293},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { StorageUtil, RequestUtil } from \"@/utils\";\nimport store from '@/store';\nexport default {\n  login: function login(user) {\n    return RequestUtil.post('/login', user).then(function (res) {\n      if (res.data.code === 0) {\n        var data = res.data.data;\n        store.commit('account/setUser', data.user);\n        store.commit('account/setJWT', data.jwt);\n        store.commit('setting/setTheme', data.theme || store.state.setting.defaultTheme); // store.commit('account/setRouter', data.router);\n\n        return data;\n      }\n    });\n  },\n  register: function register(user) {\n    return RequestUtil.post('/register', user).then(function (res) {\n      console.log(res);\n    });\n  },\n  logout: function logout(id) {\n    return RequestUtil.post(\"/logout/\".concat(id)).then(function () {\n      StorageUtil.clear();\n      window.location.reload();\n    });\n  }\n};",{"version":3,"sources":["/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/api/modules/Login.js"],"names":["StorageUtil","RequestUtil","store","login","user","post","then","res","data","code","commit","jwt","theme","state","setting","defaultTheme","register","console","log","logout","id","clear","window","location","reload"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,WAArB,QAAuC,SAAvC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,eAAe;AACXC,EAAAA,KADW,iBACLC,IADK,EACC;AACR,WAAOH,WAAW,CAACI,IAAZ,CAAiB,QAAjB,EAA2BD,IAA3B,EAAiCE,IAAjC,CAAsC,UAAAC,GAAG,EAAI;AAChD,UAAIA,GAAG,CAACC,IAAJ,CAASC,IAAT,KAAkB,CAAtB,EAAyB;AACrB,YAAMD,IAAI,GAAGD,GAAG,CAACC,IAAJ,CAASA,IAAtB;AAEAN,QAAAA,KAAK,CAACQ,MAAN,CAAa,iBAAb,EAAgCF,IAAI,CAACJ,IAArC;AACAF,QAAAA,KAAK,CAACQ,MAAN,CAAa,gBAAb,EAA+BF,IAAI,CAACG,GAApC;AACAT,QAAAA,KAAK,CAACQ,MAAN,CAAa,kBAAb,EAAiCF,IAAI,CAACI,KAAL,IAAcV,KAAK,CAACW,KAAN,CAAYC,OAAZ,CAAoBC,YAAnE,EALqB,CAMrB;;AAEA,eAAOP,IAAP;AACH;AACJ,KAXM,CAAP;AAYH,GAdU;AAeXQ,EAAAA,QAfW,oBAeFZ,IAfE,EAeI;AACX,WAAOH,WAAW,CAACI,IAAZ,CAAiB,WAAjB,EAA8BD,IAA9B,EAAoCE,IAApC,CAAyC,UAAAC,GAAG,EAAI;AACnDU,MAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ;AACH,KAFM,CAAP;AAGH,GAnBU;AAoBXY,EAAAA,MApBW,kBAoBJC,EApBI,EAoBA;AACP,WAAOnB,WAAW,CAACI,IAAZ,mBAA4Be,EAA5B,GAAkCd,IAAlC,CAAuC,YAAM;AAChDN,MAAAA,WAAW,CAACqB,KAAZ;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,KAHM,CAAP;AAIH;AAzBU,CAAf","sourcesContent":["import {StorageUtil, RequestUtil} from \"@/utils\";\nimport store from '@/store';\n\nexport default {\n    login(user) {\n        return RequestUtil.post('/login', user).then(res => {\n            if (res.data.code === 0) {\n                const data = res.data.data;\n\n                store.commit('account/setUser', data.user);\n                store.commit('account/setJWT', data.jwt);\n                store.commit('setting/setTheme', data.theme || store.state.setting.defaultTheme);\n                // store.commit('account/setRouter', data.router);\n\n                return data;\n            }\n        })\n    },\n    register(user) {\n        return RequestUtil.post('/register', user).then(res => {\n            console.log(res);\n        })\n    },\n    logout(id) {\n        return RequestUtil.post(`/logout/${id}`).then(() => {\n            StorageUtil.clear();\n            window.location.reload();\n        });\n    }\n}\n"]}]}