{"remainingRequest":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/page/system/role/RoleConfig.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/page/system/role/RoleConfig.vue","mtime":1568663656000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar treeDataSource = [];\nvar checkedIds = [];\nvar defaultCheckedKeys = [];\nexport default {\n  name: \"RoleConfig\",\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    role: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      checkedIds: checkedIds,\n      treeDataSource: treeDataSource,\n      defaultCheckedKeys: defaultCheckedKeys\n    };\n  },\n  methods: {\n    apiFetchMenu: function apiFetchMenu() {\n      var _this = this;\n\n      return this.$request.get('/menu').then(function (res) {\n        if (res.data.code === 0) _this.treeDataSource = res.data.data.rows.children;\n        return res;\n      });\n    },\n    apiModifyRole: function apiModifyRole(role) {\n      return this.$request.put('/role', role);\n    },\n    fetchMenuList: function fetchMenuList() {\n      this.apiFetchMenu();\n    },\n    bindClickSubmit: function bindClickSubmit() {\n      var _this2 = this;\n\n      this.role.menuId = this.checkedIds.join(',');\n      this.apiModifyRole(this.role).then(function () {\n        _this2.bindClickCancel();\n\n        _this2.$emit(\"success\");\n      });\n    },\n    bindClickCancel: function bindClickCancel() {\n      this.defaultCheckedKeys = [];\n      this.checkedIds = [];\n      this.$emit(\"input\", false);\n    },\n    bindClickCheck: function bindClickCheck(e) {\n      this.checkedIds = e.checked;\n    }\n  },\n  watch: {\n    role: function role() {\n      this.fetchMenuList();\n    }\n  }\n};",{"version":3,"sources":["RoleConfig.vue"],"names":[],"mappings":";;;;;;;;;;AAYA,IAAA,cAAA,GAAA,EAAA;AACA,IAAA,UAAA,GAAA,EAAA;AACA,IAAA,kBAAA,GAAA,EAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA;AALA,GAFA;AAcA,EAAA,IAdA,kBAcA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,UADA;AAEA,MAAA,cAAA,EAAA,cAFA;AAGA,MAAA,kBAAA,EAAA;AAHA,KAAA;AAKA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,aAAA,KAAA,QAAA,CAAA,GAAA,CAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA,KAAA,CAAA,cAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,eAAA,GAAA;AACA,OAHA,CAAA;AAIA,KANA;AAOA,IAAA,aAPA,yBAOA,IAPA,EAOA;AACA,aAAA,KAAA,QAAA,CAAA,GAAA,CAAA,OAAA,EAAA,IAAA,CAAA;AACA,KATA;AAUA,IAAA,aAVA,2BAUA;AACA,WAAA,YAAA;AACA,KAZA;AAaA,IAAA,eAbA,6BAaA;AAAA;;AACA,WAAA,IAAA,CAAA,MAAA,GAAA,KAAA,UAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AAEA,WAAA,aAAA,CAAA,KAAA,IAAA,EAAA,IAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,eAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,SAAA;AACA,OAHA;AAIA,KApBA;AAqBA,IAAA,eArBA,6BAqBA;AACA,WAAA,kBAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,KAAA;AACA,KAzBA;AA0BA,IAAA,cA1BA,0BA0BA,CA1BA,EA0BA;AACA,WAAA,UAAA,GAAA,CAAA,CAAA,OAAA;AACA;AA5BA,GArBA;AAmDA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,aAAA;AACA;AAHA;AAnDA,CAAA","sourcesContent":["<template>\n    <a-modal :title=\"`为 ${role.roleName} 配置权限`\" :visible=\"value\" :width=\"300\"\n             @cancel=\"bindClickCancel\" @ok=\"bindClickSubmit\"\n             cancelText=\"取消\" okText=\"提交\">\n        <a-tree checkable checkStrictly\n                :defaultCheckedKeys=\"defaultCheckedKeys\" :treeData=\"treeDataSource\"\n                @check=\"bindClickCheck\"/>\n    </a-modal>\n</template>\n\n<script>\n\n    let treeDataSource = [];\n    let checkedIds = [];\n    let defaultCheckedKeys = [];\n\n    export default {\n        name: \"RoleConfig\",\n        props: {\n            value: {\n                type: Boolean,\n                default: false\n            },\n            role: {\n                type: Object,\n                default() {\n                    return {}\n                }\n            }\n        },\n        data() {\n            return {\n                checkedIds,\n                treeDataSource,\n                defaultCheckedKeys,\n            }\n        },\n        methods: {\n            apiFetchMenu() {\n                return this.$request.get('/menu').then(res => {\n                    if (res.data.code === 0) this.treeDataSource = res.data.data.rows.children;\n                    return res;\n                })\n            },\n            apiModifyRole(role) {\n                return this.$request.put('/role', role);\n            },\n            fetchMenuList() {\n                this.apiFetchMenu();\n            },\n            bindClickSubmit() {\n                this.role.menuId = this.checkedIds.join(',');\n\n                this.apiModifyRole(this.role).then(() => {\n                    this.bindClickCancel();\n                    this.$emit(\"success\");\n                });\n            },\n            bindClickCancel() {\n                this.defaultCheckedKeys = [];\n                this.checkedIds = [];\n                this.$emit(\"input\", false);\n            },\n            bindClickCheck(e) {\n                this.checkedIds = e.checked;\n            }\n        },\n        watch: {\n            role() {\n                this.fetchMenuList();\n            }\n        }\n    }\n</script>\n"],"sourceRoot":"src/views/page/system/role"}]}