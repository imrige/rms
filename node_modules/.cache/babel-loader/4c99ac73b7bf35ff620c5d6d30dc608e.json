{"remainingRequest":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/page/system/menu/Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/page/system/menu/Menu.vue","mtime":1568663656000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { MenuApi } from '@/api';\nimport { Tips } from '@/components';\nimport MenuCreate from \"./MenuCreate\";\nimport MenuModify from \"./MenuModify\";\nimport Pagination from \"../../../../common/domain/Pagination\";\nvar menu = {},\n    menus = {};\nvar columns = [{\n  title: '名称',\n  dataIndex: 'name',\n  key: 'menuName',\n  fixed: 'left',\n  width: 200\n}, {\n  title: '图标',\n  dataIndex: 'icon',\n  key: 'menuIcon',\n  align: 'center',\n  width: 100,\n  scopedSlots: {\n    customRender: 'icon'\n  }\n}, {\n  title: '地址',\n  dataIndex: 'path',\n  key: 'menuPath',\n  width: 200\n}, {\n  title: '组件',\n  dataIndex: 'component',\n  key: 'menuComponent',\n  width: 200\n}, {\n  title: '创建时间',\n  dataIndex: 'createTime',\n  key: 'menuCreateTime',\n  width: 200\n}, {\n  title: '最近修改',\n  dataIndex: 'modifyTime',\n  key: 'menuModifyTime',\n  width: 200\n}, {\n  title: '权限',\n  dataIndex: 'permission',\n  key: 'menuPermission'\n}, {\n  title: '操作',\n  dataIndex: 'action',\n  key: 'action',\n  fixed: 'right',\n  align: 'center',\n  width: 150,\n  scopedSlots: {\n    customRender: 'action'\n  }\n}];\nexport default {\n  name: \"Menu\",\n  components: {\n    MenuModify: MenuModify,\n    Tips: Tips,\n    MenuCreate: MenuCreate\n  },\n  data: function data() {\n    return {\n      menu: menu,\n      menus: menus,\n      columns: columns,\n      pagination: new Pagination(),\n      create: false,\n      modify: false,\n      loading: false\n    };\n  },\n  mounted: function mounted() {\n    this.getMenus();\n  },\n  methods: {\n    getMenus: function getMenus() {\n      var _this = this;\n\n      MenuApi.get(this.pagination).then(function (res) {\n        return _this.menus = res;\n      });\n    },\n    deleteMenu: function deleteMenu(id) {\n      return this.$request.delete(\"/menu/\".concat(id)).then(function (res) {\n        if (res.data.code === 0) return null;\n      });\n    },\n    bindClickModify: function bindClickModify(menu) {\n      this.menu = menu;\n      this.modify = true;\n    },\n    bindClickDelete: function bindClickDelete(menu) {\n      var _this2 = this;\n\n      this.$confirm({\n        title: \"\\u786E\\u8BA4\\u5220\\u9664\\u83DC\\u5355 \".concat(menu.name, \" \\u5417\"),\n        content: '此菜单包含的所有子菜单将一并被永久删除且无法恢复，请谨慎操作！',\n        okType: 'danger',\n        onOk: function onOk() {\n          return _this2.deleteMenu(menu.id).then(function () {\n            return _this2.getMenus();\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Menu.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <a-card title=\"菜单列表\" :bordered=\"false\">\n        <template slot=\"extra\">\n            <a class=\"margin-right-sm\">重置</a>\n            <a-input-search placeholder=\"请输入\" style=\"width: 256px;\"/>\n        </template>\n\n        <a-button type=\"primary\" icon=\"plus\" class=\"margin-bottom\" @click=\"create = true\">新建</a-button>\n\n        <a-button type=\"danger\" icon=\"rest\" class=\"margin-left\" disabled>批量删除</a-button>\n\n        <Tips showRefresh @refresh=\"getMenus\" :page=\"menus\" class=\"margin-bottom\"/>\n\n        <a-table :columns=\"columns\" :dataSource=\"menus.records.children\" :scroll=\"{x: 1500}\" :loading=\"loading\" :pagination=\"false\">\n            <template slot=\"icon\" slot-scope=\"value\">\n                <a-icon v-if=\"value\" :type=\"value\" style=\"font-size: 18px\"/>\n            </template>\n\n            <template slot=\"action\" slot-scope=\"value, item\">\n                <a>查看</a>\n                <a-divider type=\"vertical\"/>\n                <a-dropdown>\n                    <a>\n                        更多\n                        <a-icon type=\"down\"/>\n                    </a>\n                    <a-menu slot=\"overlay\">\n                        <a-menu-item>\n                            <a @click=\"bindClickModify(item)\">修改</a>\n                        </a-menu-item>\n                        <a-menu-item>\n                            <a @click=\"bindClickDelete(item)\">删除</a>\n                        </a-menu-item>\n                    </a-menu>\n                </a-dropdown>\n            </template>\n        </a-table>\n\n        <MenuCreate v-model=\"create\" @success=\"getMenus\"/>\n        <MenuModify v-model=\"modify\" @success=\"getMenus\" :menu=\"menu\"/>\n    </a-card>\n</template>\n\n<script>\n    import {MenuApi} from '@/api';\n    import {Tips} from '@/components';\n    import MenuCreate from \"./MenuCreate\";\n    import MenuModify from \"./MenuModify\";\n    import Pagination from \"../../../../common/domain/Pagination\";\n\n    let menu = {},\n        menus = {};\n    let columns = [\n        {\n            title: '名称',\n            dataIndex: 'name',\n            key: 'menuName',\n            fixed: 'left',\n            width: 200\n        },\n        {\n            title: '图标',\n            dataIndex: 'icon',\n            key: 'menuIcon',\n            align: 'center',\n            width: 100,\n            scopedSlots: {customRender: 'icon'}\n        },\n        {\n            title: '地址',\n            dataIndex: 'path',\n            key: 'menuPath',\n            width: 200,\n        },\n        {\n            title: '组件',\n            dataIndex: 'component',\n            key: 'menuComponent',\n            width: 200\n        },\n        {\n            title: '创建时间',\n            dataIndex: 'createTime',\n            key: 'menuCreateTime',\n            width: 200\n        },\n        {\n            title: '最近修改',\n            dataIndex: 'modifyTime',\n            key: 'menuModifyTime',\n            width: 200\n        },\n        {\n            title: '权限',\n            dataIndex: 'permission',\n            key: 'menuPermission'\n        },\n        {\n            title: '操作',\n            dataIndex: 'action',\n            key: 'action',\n            fixed: 'right',\n            align: 'center',\n            width: 150,\n            scopedSlots: {customRender: 'action'}\n        }\n    ];\n\n    export default {\n        name: \"Menu\",\n        components: {MenuModify, Tips, MenuCreate},\n        data() {\n            return {\n                menu,\n                menus,\n                columns,\n                pagination: new Pagination(),\n                create: false,\n                modify: false,\n                loading: false,\n            }\n        },\n        mounted() {\n            this.getMenus();\n        },\n        methods: {\n            getMenus() {\n                MenuApi.get(this.pagination).then(res => this.menus = res);\n            },\n            deleteMenu(id) {\n                return this.$request.delete(`/menu/${id}`).then(res => {\n                    if (res.data.code === 0) return null;\n                })\n            },\n            bindClickModify(menu) {\n                this.menu = menu;\n                this.modify = true;\n            },\n            bindClickDelete(menu) {\n                this.$confirm({\n                    title: `确认删除菜单 ${menu.name} 吗`,\n                    content: '此菜单包含的所有子菜单将一并被永久删除且无法恢复，请谨慎操作！',\n                    okType: 'danger',\n                    onOk: () => this.deleteMenu(menu.id).then(() => this.getMenus())\n                });\n            },\n        }\n    }\n</script>\n"],"sourceRoot":"src/views/page/system/menu"}]}