{"remainingRequest":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/page/system/role/Role.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/page/system/role/Role.vue","mtime":1568663656000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { RoleApi } from '@/api';\nimport RoleCreate from \"./RoleCreate\";\nimport RoleModify from \"./RoleModify\";\nimport RoleDetail from \"./RoleDetail\";\nimport RoleConfig from \"./RoleConfig\";\nimport { Information, InformationItem, Tips } from '@/components';\nimport { mapState } from 'vuex';\nimport Pagination from \"@/common/domain/Pagination\";\nvar role = {};\nvar roles = {};\nexport default {\n  name: \"Role\",\n  components: {\n    Information: Information,\n    InformationItem: InformationItem,\n    RoleCreate: RoleCreate,\n    RoleModify: RoleModify,\n    RoleDetail: RoleDetail,\n    RoleConfig: RoleConfig,\n    Tips: Tips\n  },\n  data: function data() {\n    return {\n      role: role,\n      roles: roles,\n      pagination: new Pagination(),\n      create: false,\n      modify: false,\n      config: false,\n      detail: false,\n      loading: false\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    user: function user(state) {\n      return state.account.user;\n    }\n  })),\n  mounted: function mounted() {\n    this.getRoles();\n  },\n  methods: {\n    getRoles: function getRoles() {\n      var _this = this;\n\n      this.loading = true;\n      RoleApi.get(this.pagination).then(function (res) {\n        _this.roles = res;\n        _this.loading = false;\n      });\n    },\n    deleteRole: function deleteRole(ids) {\n      return RoleApi.delete(ids);\n    },\n    bindPressEnter: function bindPressEnter(e) {\n      var value = e.target.value;\n      this.pagination.keyword = value;\n      if (value) this.getRoles();\n    },\n    bindClickDetail: function bindClickDetail(role) {\n      this.detail = true;\n      this.role = role;\n    },\n    bindClickConfig: function bindClickConfig(role) {\n      this.config = true;\n      this.role = role;\n    },\n    bindClickModify: function bindClickModify(role) {\n      this.modify = true;\n      this.role = role;\n    },\n    bindClickDelete: function bindClickDelete(role) {\n      var _this2 = this;\n\n      this.$confirm({\n        title: \"\\u786E\\u8BA4\\u5220\\u9664 \".concat(role.roleName, \" \\u5417\"),\n        content: '此操作将永久删除角色且无法恢复，请谨慎操作！',\n        okType: 'danger',\n        onOk: function onOk() {\n          return _this2.deleteRole(role.roleId).then(function () {\n            _this2.getRoles();\n\n            _this2.$message.success(\"删除成功\");\n          });\n        }\n      });\n    },\n    bindClickReset: function bindClickReset() {\n      if (this.pagination.keyword === null) return;\n      this.pagination.keyword = null;\n      this.getRoles();\n    }\n  }\n};",{"version":3,"sources":["Role.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <a-card title=\"角色列表\" :bordered=\"false\" class=\"margin-bottom-lg\">\n\n        <template slot=\"extra\">\n            <a class=\"margin-right-sm\" @click=\"bindClickReset\">重置</a>\n            <a-input-search placeholder=\"请输入\" style=\"width: 256px;\"\n                            v-model=\"pagination.keyword\"\n                            @pressEnter=\"bindPressEnter\"/>\n        </template>\n\n        <a-button class=\"margin-bottom\" type=\"primary\" icon=\"plus\" @click=\"() => create = true\">新建</a-button>\n\n        <Tips showRefresh @refresh=\"getRoles\" :page=\"roles\" class=\"margin-bottom\"/>\n\n        <a-list :data-source=\"roles.records\" :loading=\"loading\" size=\"large\">\n            <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n                <a-list-item-meta :description=\"item.roleDescription || '暂无描述'\">\n                    <template slot=\"title\">{{item.roleName}}</template>\n                    <a-avatar shape=\"square\" :size=\"48\" slot=\"avatar\"\n                              src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"/>\n                </a-list-item-meta>\n\n                <Information align=\"right\" :split=\"false\">\n                    <InformationItem title=\"最近修改\">\n                        <template slot=\"content\">{{item.roleModifyTime || '-'}}</template>\n                    </InformationItem>\n                    <InformationItem title=\"创建时间\">\n                        <template slot=\"content\">{{item.roleCreateTime}}</template>\n                    </InformationItem>\n                    <InformationItem title=\"状态\">\n                        <template slot=\"content\">\n                            <a-badge :status=\"item.roleStatus ? 'processing' : 'error'\"\n                                     :text=\"item.roleStatus ? '正常' : '禁用'\"/>\n                        </template>\n                    </InformationItem>\n                </Information>\n\n                <a slot=\"actions\" @click=\"bindClickDetail(item)\">查看</a>\n                <a slot=\"actions\" @click=\"bindClickConfig(item)\">配置</a>\n                <a-dropdown slot=\"actions\">\n                    <a>\n                        更多\n                        <a-icon type=\"down\"/>\n                    </a>\n                    <a-menu slot=\"overlay\">\n                        <a-menu-item>\n                            <a @click=\"bindClickModify(item)\">修改</a>\n                        </a-menu-item>\n                        <a-menu-item>\n                            <a @click=\"bindClickDelete(item)\">删除</a>\n                        </a-menu-item>\n                    </a-menu>\n                </a-dropdown>\n            </a-list-item>\n        </a-list>\n\n        <RoleCreate v-model=\"create\" @success=\"getRoles\"/>\n        <RoleModify v-model=\"modify\" @success=\"getRoles\" :role=\"role\"/>\n        <RoleConfig v-model=\"config\" @success=\"getRoles\" :role=\"role\"/>\n        <RoleDetail v-model=\"detail\" :role=\"role\"/>\n    </a-card>\n</template>\n\n<script>\n    import {RoleApi} from '@/api';\n    import RoleCreate from \"./RoleCreate\";\n    import RoleModify from \"./RoleModify\";\n    import RoleDetail from \"./RoleDetail\";\n    import RoleConfig from \"./RoleConfig\";\n    import {Information, InformationItem, Tips} from '@/components';\n    import {mapState} from 'vuex';\n    import Pagination from \"@/common/domain/Pagination\";\n\n    let role = {};\n    let roles = {};\n\n    export default {\n        name: \"Role\",\n        components: {Information, InformationItem, RoleCreate, RoleModify, RoleDetail, RoleConfig, Tips},\n        data() {\n            return {\n                role,\n                roles,\n                pagination: new Pagination(),\n                create: false,\n                modify: false,\n                config: false,\n                detail: false,\n                loading: false\n            }\n        },\n        computed: {\n            ...mapState({\n                user: state => state.account.user\n            })\n        },\n        mounted() {\n            this.getRoles();\n        },\n        methods: {\n            getRoles() {\n                this.loading = true;\n                RoleApi.get(this.pagination).then(res => {\n                    this.roles = res;\n                    this.loading = false;\n                });\n            },\n            deleteRole(ids) {\n                return RoleApi.delete(ids);\n            },\n            bindPressEnter(e) {\n                const value = e.target.value;\n                this.pagination.keyword = value;\n                if (value) this.getRoles();\n            },\n            bindClickDetail(role) {\n                this.detail = true;\n                this.role = role;\n            },\n            bindClickConfig(role) {\n                this.config = true;\n                this.role = role;\n            },\n            bindClickModify(role) {\n                this.modify = true;\n                this.role = role;\n            },\n            bindClickDelete(role) {\n                this.$confirm({\n                    title: `确认删除 ${role.roleName} 吗`,\n                    content: '此操作将永久删除角色且无法恢复，请谨慎操作！',\n                    okType: 'danger',\n                    onOk: () => this.deleteRole(role.roleId).then(() => {\n                        this.getRoles();\n                        this.$message.success(\"删除成功\");\n                    }),\n                });\n            },\n            bindClickReset() {\n                if (this.pagination.keyword === null) return;\n\n                this.pagination.keyword = null;\n                this.getRoles();\n            }\n        },\n    }\n</script>\n"],"sourceRoot":"src/views/page/system/role"}]}