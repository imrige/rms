{"remainingRequest":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/page/system/user/User.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/src/views/page/system/user/User.vue","mtime":1568787752263},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rige/Desktop/Workbench/github/rms/rms_web_vue/node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { UserApi } from \"@/api\";\nimport { Information, InformationItem, Tips } from '@/components';\nimport UserCreate from \"./UserCreate\";\nimport UserModify from \"./UserModify\";\nimport UserDetail from \"./UserDetail\";\nimport Pagination from \"@/common/domain/Pagination\";\nvar users = {};\nexport default {\n  name: \"User\",\n  components: {\n    Information: Information,\n    InformationItem: InformationItem,\n    Tips: Tips,\n    UserCreate: UserCreate,\n    UserDetail: UserDetail,\n    UserModify: UserModify\n  },\n  data: function data() {\n    return {\n      users: users,\n      user: {},\n      pagination: new Pagination(),\n      status: 'all',\n      create: false,\n      detail: false,\n      modify: false\n    };\n  },\n  mounted: function mounted() {\n    this.getUsers();\n  },\n  methods: {\n    getUsers: function getUsers() {\n      var _this = this;\n\n      UserApi.get(this.pagination).then(function (res) {\n        return _this.users = res;\n      });\n    },\n    deleteUser: function deleteUser(ids) {\n      return UserApi.delete(ids);\n    },\n    bindClickModify: function bindClickModify(user) {\n      this.user = user;\n      this.modify = true;\n    },\n    bindClickDetail: function bindClickDetail(user) {\n      this.user = user;\n      this.detail = true;\n    },\n    bindClickDelete: function bindClickDelete(user) {\n      var _this2 = this;\n\n      this.$confirm({\n        title: \"\\u786E\\u8BA4\\u5220\\u9664\\u7528\\u6237 \".concat(user.userName, \" \\u5417\"),\n        content: '此操作将永久删除账户且无法恢复，请谨慎操作！',\n        okType: 'danger',\n        onOk: function onOk() {\n          return _this2.deleteUser(user.userId).then(function () {\n            _this2.$message.success(\"操作成功\");\n\n            _this2.getUsers();\n          });\n        }\n      });\n    },\n    bindPressEnter: function bindPressEnter(e) {\n      if (e.target.value === '') return;\n      this.getUsers();\n    }\n  }\n};",{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA,SAAA,OAAA,QAAA,OAAA;AACA,SAAA,WAAA,EAAA,eAAA,EAAA,IAAA,QAAA,cAAA;AACA,OAAA,UAAA;AACA,OAAA,UAAA;AACA,OAAA,UAAA;AACA,OAAA,UAAA,MAAA,4BAAA;AAEA,IAAA,KAAA,GAAA,EAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,WAAA,EAAA,WAAA;AAAA,IAAA,eAAA,EAAA,eAAA;AAAA,IAAA,IAAA,EAAA,IAAA;AAAA,IAAA,UAAA,EAAA,UAAA;AAAA,IAAA,UAAA,EAAA,UAAA;AAAA,IAAA,UAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA,IAAA,UAAA,EAHA;AAIA,MAAA,MAAA,EAAA,KAJA;AAKA,MAAA,MAAA,EAAA,KALA;AAMA,MAAA,MAAA,EAAA,KANA;AAOA,MAAA,MAAA,EAAA;AAPA,KAAA;AASA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,SAAA,QAAA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA,EAAA,IAAA,CAAA,UAAA,GAAA;AAAA,eAAA,KAAA,CAAA,KAAA,GAAA,GAAA;AAAA,OAAA;AACA,KAHA;AAIA,IAAA,UAJA,sBAIA,GAJA,EAIA;AACA,aAAA,OAAA,CAAA,MAAA,CAAA,GAAA,CAAA;AACA,KANA;AAOA,IAAA,eAPA,2BAOA,IAPA,EAOA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,KAVA;AAWA,IAAA,eAXA,2BAWA,IAXA,EAWA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,KAdA;AAeA,IAAA,eAfA,2BAeA,IAfA,EAeA;AAAA;;AACA,WAAA,QAAA,CAAA;AACA,QAAA,KAAA,iDAAA,IAAA,CAAA,QAAA,YADA;AAEA,QAAA,OAAA,EAAA,wBAFA;AAGA,QAAA,MAAA,EAAA,QAHA;AAIA,QAAA,IAAA,EAAA;AAAA,iBAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,MAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,YAAA,MAAA,CAAA,QAAA;AACA,WAHA,CAAA;AAAA;AAJA,OAAA;AASA,KAzBA;AA0BA,IAAA,cA1BA,0BA0BA,CA1BA,EA0BA;AACA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,KAAA,EAAA,EAAA;AACA,WAAA,QAAA;AACA;AA7BA;AAjBA,CAAA","sourcesContent":["<template>\n    <a-row>\n        <a-col :span=\"24\">\n            <a-card :bordered=\"false\" class=\"margin-bottom-lg\">\n                <Information align=\"center\">\n                    <InformationItem title=\"用户总量\" :content=\"users.total\"/>\n                    <InformationItem title=\"在线用户\" content=\"1\"/>\n                    <InformationItem title=\"禁用用户\" content=\"0\"/>\n                </Information>\n            </a-card>\n        </a-col>\n\n        <a-col :span=\"24\">\n            <a-card :bordered=\"false\" title=\"用户列表\">\n                <template slot=\"extra\">\n                    <a class=\"margin-right-sm\">重置</a>\n\n                    <a-input-search placeholder=\"请输入\" style=\"width: 256px;\" class=\"margin-right-sm\"\n                                    v-model=\"pagination.keyword\"\n                                    @pressEnter=\"bindPressEnter\"/>\n\n                    <a-radio-group v-model=\"status\">\n                        <a-radio-button value=\"all\">全部</a-radio-button>\n                        <a-radio-button value=\"online\">在线</a-radio-button>\n                        <a-radio-button value=\"offline\">离线</a-radio-button>\n                        <a-radio-button value=\"inactive\">禁用</a-radio-button>\n                    </a-radio-group>\n                </template>\n\n                <a-button icon=\"plus\" type=\"primary\" class=\"margin-bottom\" @click=\"create = true\">新建</a-button>\n\n                <Tips showRefresh @refresh=\"getUsers\" :page=\"users\" class=\"margin-bottom-lg\"/>\n\n                <a-row :gutter=\"24\">\n                    <a-col :span=\"8\" v-for=\"(item, index) in users.records\" :key=\"index\">\n                        <a-card hoverable class=\"margin-bottom-lg\" @click=\"bindClickDetail(item)\">\n                            <a-card-meta>\n                                <template slot=\"avatar\">\n                                    <a-avatar shape=\"square\" :size=\"64\" :src=\"item.userAvatar\"/>\n                                </template>\n                                <template slot=\"title\">\n                                    <h3>{{item.userName}}</h3>\n                                </template>\n                                <template slot=\"description\">\n                                    <a-list :split=\"false\" size=\"small\">\n                                        <a-list-item>\n                                            <a-list-item-meta description=\"注册时间\"/>\n                                            <span slot=\"actions\" class=\"black\">{{item.userCreateTime}}</span>\n                                        </a-list-item>\n                                        <a-list-item>\n                                            <a-list-item-meta description=\"上次登录\"/>\n                                            <span slot=\"actions\" class=\"black\">{{item.userRecentTime || '-'}}</span>\n                                        </a-list-item>\n                                        <a-list-item>\n                                            <a-list-item-meta description=\"账号状态\"/>\n                                            <span slot=\"actions\">\n                                                <a-badge v-if=\"item.userStatus === 1\" status=\"processing\" text=\"在线\"/>\n                                                <a-badge v-else-if=\"item.userStatus === 0\" status=\"default\" text=\"离线\"/>\n                                                <a-badge v-else-if=\"item.userStatus === -1\" status=\"error\" text=\"禁用\"/>\n                                            </span>\n                                        </a-list-item>\n                                    </a-list>\n                                </template>\n                            </a-card-meta>\n                            <template slot=\"actions\">\n                                <a @click=\"e => e.stopPropagation()\">\n                                    <a-icon type=\"stop\"/>\n                                    禁用\n                                </a>\n                                <a @click=\"e => e.stopPropagation()\">\n                                    <a-icon type=\"logout\"/>\n                                    踢出\n                                </a>\n                                <a-dropdown>\n                                    <a @click=\"e => e.stopPropagation()\">\n                                        <a-icon type=\"more\"/>\n                                        更多\n                                    </a>\n                                    <a-menu slot=\"overlay\">\n                                        <a-menu-item @click=\"bindClickModify(item)\">\n                                            <a>修改</a>\n                                        </a-menu-item>\n                                        <a-menu-item @click=\"bindClickDelete(item)\">\n                                            <a>删除</a>\n                                        </a-menu-item>\n                                    </a-menu>\n                                </a-dropdown>\n                            </template>\n\n                        </a-card>\n                    </a-col>\n                </a-row>\n\n                <a-pagination hideOnSinglePage showQuickJumper showSizeChanger\n                              :showTotal=\"total => `共 ${total} 条数据`\"\n                              :pageSize.sync=\"users.size\"\n                              :defaultCurrent=\"users.current\"\n                              :total=\"users.total\"\n                              class=\"float-right\"/>\n\n                <UserCreate v-model=\"create\" @success=\"getUsers\"/>\n                <UserDetail v-model=\"detail\" :user=\"user\"/>\n                <UserModify v-model=\"modify\" @success=\"getUsers\" :user=\"user\"/>\n            </a-card>\n        </a-col>\n    </a-row>\n</template>\n\n<script>\n    import {UserApi} from \"@/api\";\n    import {Information, InformationItem, Tips} from '@/components';\n    import UserCreate from \"./UserCreate\";\n    import UserModify from \"./UserModify\";\n    import UserDetail from \"./UserDetail\";\n    import Pagination from \"@/common/domain/Pagination\";\n\n    let users = {};\n\n    export default {\n        name: \"User\",\n        components: {Information, InformationItem, Tips, UserCreate, UserDetail, UserModify},\n        data() {\n            return {\n                users,\n                user: {},\n                pagination: new Pagination(),\n                status: 'all',\n                create: false,\n                detail: false,\n                modify: false,\n            }\n        },\n        mounted() {\n            this.getUsers();\n        },\n        methods: {\n            getUsers() {\n                UserApi.get(this.pagination).then(res => this.users = res);\n            },\n            deleteUser(ids) {\n                return UserApi.delete(ids);\n            },\n            bindClickModify(user) {\n                this.user = user;\n                this.modify = true;\n            },\n            bindClickDetail(user) {\n                this.user = user;\n                this.detail = true;\n            },\n            bindClickDelete(user) {\n                this.$confirm({\n                    title: `确认删除用户 ${user.userName} 吗`,\n                    content: '此操作将永久删除账户且无法恢复，请谨慎操作！',\n                    okType: 'danger',\n                    onOk: () => this.deleteUser(user.userId).then(() => {\n                        this.$message.success(\"操作成功\");\n                        this.getUsers()\n                    })\n                });\n            },\n            bindPressEnter(e) {\n                if (e.target.value === '') return;\n                this.getUsers();\n            }\n        }\n    }\n</script>\n"],"sourceRoot":"src/views/page/system/user"}]}